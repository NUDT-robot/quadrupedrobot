.. 代码移植 

.. _PortArc:

代码结构与移植
=======================================

四足机器人程序代码主要框架可以用下图表示。首先进行必要的变量初始化并建立通信，然后根据机器人传感器发来的数据，通过算法实现用户指定的任务，最后将具体控制命令传递给机器人系统。核心代码可以和当前其它开源库相结合。

.. image:: ../images/portcore.jpg
    :width: 1000

.. image:: ../images/arc1.jpg
    :width: 1000

要使四足机器人代码在新平台上工作，需要完成如下工作：

1.根据不同机器人实物/仿真平台修改配置文件。

2.修改相应通信程序从而可以获得传感器信息并发送指令。

3.进行系统辨识，修改LimbModel.cpp中LimbModel构造函数中的基参数值。

需要修改的函数和配置文件内容如下图所示。

.. image:: ../images/portarc.jpg
    :width: 1000

